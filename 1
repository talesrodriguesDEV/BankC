#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <locale.h>

struct cliente{
	int codigo;
	char nome[50];
	int NumCadastro;
	int telefone;
	char endereco[50];
};

struct cliente clientes[100];


struct conta {
	struct cliente;
	int agencia;
	int NumConta;
	int saldo;
	
};

struct conta contas[200];


int main(void) {
	
	int i = 0, j = 0;
	setlocale(LC_ALL, "portuguese");
	//MENU PRINCIPAL
	system("color F9");
	system("cls");
	MenuPrincipal:
	printf("=============== Bem vindo! =================\n");
	printf("Digite um comando para prosseguir:\n");
	printf("C - Gerenciar Clientes\n");
	printf("T - Gerenciar Contas\n");
	printf("S - Sair\n");
	
	char comando;
	comando = getc(stdin);	
	
	switch(comando){
	
		//GESTÃO DE CLIENTES
		case 'C':
			MenuClientes:
			system("cls");
			printf("============ Gerenciar Clientes ============\n");
			printf("Digite um comando para prosseguir:\n");
			printf("C - Cadastrar um cliente\n");
			printf("L - Listar todos os clientes cadastrados\n");
			printf("B - Buscar cliente já cadastrado\n");
			printf("A - Atualizar um cliente cadastrado\n");
			printf("E - Excluir um cliente cadastrado\n");
			printf("S - Sair\n");		
					
						char comando2;
						comando2 = getc(stdin);	
						
						switch(comando2){
							//CADASTRAR CLIENTE				
							case 'C':					
								system("cls");									
								//criar arquivo								
								i++;
								printf("Insira os dados do novo cliente.\n");
								printf("Código: ");
								scanf("%d", &clientes[i].codigo);
								printf("Nome: ");
								fflush(stdin);
								gets(clientes[i].nome);								
								printf("CPF/CNPJ: ");
								scanf("%d", &clientes[i].NumCadastro);
								printf("Telefone: ");
								scanf("%d", &clientes[i].telefone);
								printf("Endereço: ");
								fflush(stdin);
								gets(clientes[i].endereco);																
								system("cls");								
								printf("Cliente cadastrado.\n");
								system("pause");														
								goto MenuClientes;																
								//conferência de repetição
							break;
		
							//LISTAR CLIENTES CADASTRADOS
							case 'L':
								system("cls");
								//ordem alfabética
								if(i == 0){
									printf("Nenhum cliente cadastrado.\n");
									system("pause");
									goto MenuClientes;
								} else{
									for(i = 1; i <= 100; i++){
										printf("%s\n", clientes[i].nome);
									}
									system("pause");
									goto MenuClientes;
								}								
							break;
		
							//BUSCAR CLIENTE
							case 'B':
								system("cls");
								printf("Digite o nome do cliente desejado:\n");
							break;
		
							//ATUALIZAR CLIENTE
							case 'A':
								system("cls");
								printf("Digite o nome do cliente desejado:\n");
				
							break;
				
							//EXCLUIR CLIENTE
							case 'E':
								system("cls");
								printf("Digite o nome do cliente desejado:\n");
				
							break;
						
							//SAIR
							case 'S':
								system("cls");	
								goto MenuPrincipal;
							break;
				
							//ERRO
							default:
							//	system("cls");
								printf("Por favor, digite um comando válido.\n");
								system("pause");						
								getchar();
								system("cls");
								goto MenuClientes;
						}
		break;				
	
		//GESTÃO DE CONTAS
		case 'T':
			MenuContas:
			system("cls");
			printf("Digite um comando para prosseguir:\n");
			printf("R - Listagem de todas as contas cadastradas.\n");
			printf("C - Cadastrar uma conta para um cliente.\n");
			printf("L - Listar todas as contas de um cliente.\n");
			printf("W - Realizar um saque em uma conta.\n");
			printf("D - Realizar um depósito em uma conta.\n");
			printf("T - Realizar transferência entre contas.\n");
			printf("E - Exibir extrato de uma conta.\nS - Sair\n");
			
						char comando3;
						comando3 = getc(stdin);	
						
						switch(comando3){
							//LISTAR CONTAS CADASTRADAS
							case 'R':
								system("cls");
							break;
					
							//CADASTRAR UMA CONTA
							case 'C':
								system("cls");
							break;
		
							//LISTAR CONTAS DE UM CLIENTE
							case 'L':
								system("cls");
							break;
						
							//REALIZAR SAQUE
							case 'W':
								system("cls");
							break;
			
							//REALIZAR DEPÓSITO
							case 'D':
								system("cls");
							break;	
		
							//REALIZAR TRANSFERÊNCIA
							case 'T':
								system("cls");
							break;
									
							//EXIBIR EXTRATO
							case 'E':
								system("cls");
							break;
						
							//SAIR 
							case 'S':
								system("cls");	
								goto MenuPrincipal;
							break;
				
							//ERRO
							default:
							//	system("cls");
								printf("Por favor, digite um comando válido.\n");
								system("pause");
								getchar();						
								system("cls");
								goto MenuContas;
						}
		break;
	
		//SAIR	
		case 'S':
			system("cls");
			system("exit");
		break;
		
		//ERRO
		default:
			system("cls");
			printf("Por favor, digite um comando válido.\n");
			system("pause");
			getchar();
			system("cls");
			goto MenuPrincipal;
	
	}

	return 0;
}
